<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>D2 SC Demo</title>
  <style>
    /* use this mint color: rgb(153,255,204)
    font-family: 'Lato', sans-serif;*/
  </style>
</head>

<body>
  <!--Division 2 leaderboard-->
  <div style="display:flex;grid-template-columns:10% 90%;align-items:center;justify-content:center;font-family:'Lato', sans-serif;margin-bottom:15px;">
    <div
      style="border-radius:15px;width:30px;height:30px;border-color:gold;border-width:2px;border-style:solid;display:flex;align-items:center;margin-right:15px;justify-content: center;box-shadow:2px 2px 0px -1px gold;">
      <p style="color:gold;font-weight:bold;">1</p>
    </div>
    <div
      style="background-color:rgb(153,255,204);display:grid;grid-template-columns:1fr 1fr 1fr;border-radius:30px;height:65px;width:80%;box-shadow:2px 2px 4px -1px black;">
      <div style="display:flex;align-items:center;">
        <div style="background-color:gold;height:55px;width:55px;border-top-left-radius: 50%;border-bottom-left-radius:50%;border-top-right-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:15px;margin-left:7px;">
          <div style="border-radius:50%; height:50px;width:50px;overflow:hidden;">
            <img src="tiger.jpeg" style="height:100%;">
          </div>
        </div>
        <span id="firstD2Team"></span>
      </div>
      <div style="display:flex;align-items:center;">
        <div style='background-color:grey;width:100%;height:10px;border-radius:10px;'>
          <div id="firstD2Bar"
            style="background-color:lightgray;height:10px;border-top-left-radius:10px;border-bottom-left-radius:10px;">
          </div>
        </div>
      </div>
      <div style="position:relative;transform:translateY(-50%);top:50%;height:20px;text-align:center;">
        <span id="firstD2Points"></span>
      </div>
    </div>
  </div>

  <div style="display:flex;grid-template-columns:10% 90%;align-items:center;justify-content:center;font-family:'Lato', sans-serif;margin-bottom:15px;">
    <div
      style="border-radius:15px;width:30px;height:30px;border-color:silver;border-width:2px;border-style:solid;display:flex;align-items:center;margin-right:15px;justify-content: center;box-shadow:2px 2px 0px -1px silver;">
      <p style="color:silver;font-weight:bold;">2</p>
    </div>
    <div
      style="background-color:rgb(153,255,204);display:grid;grid-template-columns:1fr 1fr 1fr;border-radius:30px;height:65px;width:80%;box-shadow:2px 2px 4px -1px black;">
      <div style="display:flex;align-items:center;">
        <div style="background-color:silver;height:55px;width:55px;border-top-left-radius: 50%;border-bottom-left-radius:50%;border-top-right-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:15px;margin-left:7px;">
          <div style="border-radius:50%; height:50px;width:50px;overflow:hidden;">
            <img src="cat.png" style="height:100%;">
          </div>
        </div>
        <span id="secondD2Team"></span>
      </div>
      <div style="display:flex;align-items:center;">
        <div style='background-color:grey;width:100%;height:10px;border-radius:10px;'>
          <div id="secondD2Bar"
            style="background-color:lightgray;height:10px;border-top-left-radius:10px;border-bottom-left-radius:10px;">
          </div>
        </div>
      </div>
      <div style="position:relative;transform:translateY(-50%);top:50%;height:20px;text-align:center;">
        <span id="secondD2Points"></span>
      </div>
    </div>
  </div>

  <div style="display:flex;grid-template-columns:10% 90%;align-items:center;justify-content:center;font-family:'Lato', sans-serif;margin-bottom:15px;">
    <div
      style="border-radius:15px;width:30px;height:30px;border-color:#cd7f32;border-width:2px;border-style:solid;display:flex;align-items:center;margin-right:15px;justify-content: center;box-shadow:2px 2px 0px -1px #cd7f32;">
      <p style="color:#cd7f32;font-weight:bold;">3</p>
    </div>
    <div
      style="background-color:rgb(153,255,204);display:grid;grid-template-columns:1fr 1fr 1fr;border-radius:30px;height:65px;width:80%;box-shadow:2px 2px 4px -1px black;">
      <div style="display:flex;align-items:center;">
        <div style="background-color:#cd7f32;height:55px;width:55px;border-top-left-radius: 50%;border-bottom-left-radius:50%;border-top-right-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:15px;margin-left:7px;">
          <div style="border-radius:50%; height:50px;width:50px;overflow:hidden;">
            <img src="dog.png" style="height:100%;">
          </div>
        </div>
        <span id="thirdD2Team"></span>
      </div>
      <div style="display:flex;align-items:center;">
        <div style='background-color:grey;width:100%;height:10px;border-radius:10px;'>
          <div id="thirdD2Bar"
            style="background-color:lightgray;height:10px;border-top-left-radius:10px;border-bottom-left-radius:10px;">
          </div>
        </div>
      </div>
      <div style="position:relative;transform:translateY(-50%);top:50%;height:20px;text-align:center;">
        <span id="thirdD2Points"></span>
      </div>
    </div>
  </div>

  <div style="display:flex;grid-template-columns:10% 90%;align-items:center;justify-content:center;font-family:'Lato', sans-serif;margin-bottom:15px;">
    <div
      style="border-radius:15px;width:30px;height:30px;border-color:dodgerblue;border-width:2px;border-style:solid;display:flex;align-items:center;margin-right:15px;justify-content: center;box-shadow:2px 2px 0px -1px dodgerblue;">
      <p style="color:dodgerblue;font-weight:bold;">4</p>
    </div>
    <div
      style="background-color:rgb(153,255,204);display:grid;grid-template-columns:1fr 1fr 1fr;border-radius:30px;height:65px;width:80%;box-shadow:2px 2px 4px -1px black;">
      <div style="display:flex;align-items:center;">
        <div style="background-color:dodgerblue;height:55px;width:55px;border-top-left-radius: 50%;border-bottom-left-radius:50%;border-top-right-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:15px;margin-left:7px;">
          <div style="border-radius:50%; height:50px;width:50px;overflow:hidden;">
            <img src="monkey.jpeg" style="height:100%;">
          </div>
        </div>
        <span id="fourthD2Team"></span>
      </div>
      <div style="display:flex;align-items:center;">
        <div style='background-color:grey;width:100%;height:10px;border-radius:10px;'>
          <div id="fourthD2Bar"
            style="background-color:lightgray;height:10px;border-top-left-radius:10px;border-bottom-left-radius:10px;">
          </div>
        </div>
      </div>
      <div style="position:relative;transform:translateY(-50%);top:50%;height:20px;text-align:center;">
        <span id="fourthD2Points"></span>
      </div>
    </div>
  </div>

  <div style="display:flex;grid-template-columns:10% 90%;align-items:center;justify-content:center;font-family:'Lato', sans-serif;margin-bottom:15px;">
    <div
      style="border-radius:15px;width:30px;height:30px;border-color:violet;border-width:2px;border-style:solid;display:flex;align-items:center;margin-right:15px;justify-content: center;box-shadow:2px 2px 0px -1px violet;">
      <p style="color:violet;font-weight:bold;">5</p>
    </div>
    <div
      style="background-color:rgb(153,255,204);display:grid;grid-template-columns:1fr 1fr 1fr;border-radius:30px;height:65px;width:80%;box-shadow:2px 2px 4px -1px black;">
      <div style="display:flex;align-items:center;">
        <div style="background-color:violet;height:55px;width:55px;border-top-left-radius: 50%;border-bottom-left-radius:50%;border-top-right-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:15px;margin-left:7px;">
          <div style="border-radius:50%; height:50px;width:50px;overflow:hidden;">
            <img src="goldfish.jpeg" style="height:100%;">
          </div>
        </div>
        <span id="fifthD2Team"></span>
      </div>
      <div style="display:flex;align-items:center;">
        <div style='background-color:grey;width:100%;height:10px;border-radius:10px;'>
          <div id="fifthD2Bar"
            style="background-color:lightgray;height:10px;border-top-left-radius:10px;border-bottom-left-radius:10px;">
          </div>
        </div>
      </div>
      <div style="position:relative;transform:translateY(-50%);top:50%;height:20px;text-align:center;">
        <span id="fifthD2Points"></span>
      </div>
    </div>
  </div>


  <script type="text/javascript">

    let xmlhttp2 = new XMLHttpRequest();
    xmlhttp2.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        let data = JSON.parse(this.responseText).feed.entry;
        //use this to find the weird array names for new columns on the google sheet
        console.log(data[0]);

        let i;
        //usually let iterations run until i < data.length, but I want to cap it at 4 (so 0, 1, 2, 3, 4)
        for (i = 0; i < 5; i++) {
          let team = data[i]["gsx$divisioniiteams"]["$t"];
          let bar = 100 * data[i]["gsx$scores"]["$t"] / 2000;
          let points = data[i]["gsx$scores"]["$t"];
          let coolArray = ["firstD2Team", "secondD2Team", "thirdD2Team", "fourthD2Team", "fifthD2Team"];
          let coolArray2 = ["firstD2Bar", "secondD2Bar", "thirdD2Bar", "fourthD2Bar", "fifthD2Bar"];
          let coolArray3 = ["firstD2Points", "secondD2Points", "thirdD2Points", "fourthD2Points", "fifthD2Points"];

          document.getElementById(coolArray[i]).innerHTML = team;
          document.getElementById(coolArray2[i]).style.width = bar + "%";
          document.getElementById(coolArray3[i]).innerHTML = points + " pts";


        }
      }
    };
    //search for entry
    xmlhttp2.open(
      "GET",
      "https://spreadsheets.google.com/feeds/list/1wtlmdrsQFO4-H1pzRhqDLWvcD_WkZB15xW2anWQzZ-E/10/public/full?alt=json",
      true
    );
    xmlhttp2.send();
  </script>
</body>

</html>